<!-- rsvp-form.component.html -->
<form 
  [formGroup]="rsvpForm"
  name="rsvp"
  method="POST"
  data-netlify="true"
  netlify-honeypot="bot-field"
  class="max-w-md mx-auto p-6 bg-white rounded shadow-md">
  
  <!-- Hidden input for Netlify -->
  <input type="hidden" name="form-name" value="rsvp">
  <!-- Honeypot field to prevent spam -->
  <p class="hidden">
    <label>Don't fill this out if you're human: <input name="bot-field"></label>
  </p>

  
  <!-- Name field -->
  <div class="mb-4">
    <label for="name" class="block text-gray-700 mb-2">Vollst채ndiger Name *</label>
    <input
      type="text"
      id="name"
      formControlName="name"
      class="w-full px-3 py-2 border rounded focus:outline-none focus:border-blue-500">
  </div>

  <!-- RSVP Dropdown -->
  <div class="mb-4">
    <label for="rsvp-status" class="block text-gray-700 mb-2">Wirst Du teilnehmen? *</label>
    <select 
      id="rsvp-status"
      formControlName="rsvpStatus"
      (change)="onRsvpStatusChange()"
      class="w-full px-3 py-2 border rounded focus:outline-none focus:border-blue-500"
      required>
      <option value="">Bitte w채hlen</option>
      <option value="accept">Ja, ich komme</option>
      <option value="not-accept">Nein, ich kann leider nicht</option>
    </select>
  </div>


  <!-- Additional guests field -->
  <div class="mb-4">
    <label for="additional-guests" class="block text-gray-700 mb-2">Kommst Du in Begleitung?</label>
    <select
      id="additional-guests"
      formControlName="additionalGuests"
      class="w-full px-3 py-2 border rounded focus:outline-none focus:border-blue-500"
      [disabled]="isFormDisabled()">
      <option value="0">Nein</option>
      <option value="1">Ja, + 1</option>
      <option value="2">Ja, + 1 und Kindern</option>
    </select>
  </div>

  <!-- Meal preference field -->
  <div class="mb-4">
    <label class="block text-gray-700 mb-2">Ich bevorzuge... *</label>
    <div class="space-y-2">
      <div>
        <input
          type="radio"
          id="vegetarian"
          formControlName="mealPreference"
          value="vegetarian"
          [disabled]="isFormDisabled()"
          class="mr-2">
        <label for="vegetarian">Vegetarisch</label>
      </div>
      <div>
        <input
          type="radio"
          id="meat"
          formControlName="mealPreference"
          value="meat"
          [disabled]="isFormDisabled()"
          class="mr-2">
        <label for="meat">Fleisch</label>
      </div>
      <div>
        <input
          type="radio"
          id="vegan"
          formControlName="mealPreference"
          value="vegan"
          [disabled]="isFormDisabled()"
          class="mr-2">
        <label for="vegan">Vegan</label>
      </div>
    </div>
  </div>

  <!-- Allergens/Intolerances field -->
  <div class="mb-4">
    <label for="allergens" class="block text-gray-700 mb-2">Allergien oder Unvertr채glichkeiten (optional)</label>
    <textarea
      id="allergens"
      formControlName="allergens"
      rows="3"
      [disabled]="isFormDisabled()"
      class="w-full px-3 py-2 border rounded focus:outline-none focus:border-blue-500"
      placeholder="Hier kannst Du Allergien oder Unvertr채glichkeiten angeben..."
    ></textarea>
  </div>

  <!-- Submit button -->
  <button
    type="submit"
    [disabled]="!rsvpForm.valid"
    class="w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
    Anmelden
  </button>
</form>
